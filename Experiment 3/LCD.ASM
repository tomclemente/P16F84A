LIST P=16F84, F=INHX8M
INCLUDE<P16F84.INC>
__CONFIG _CP_OFF & _WDT_OFF & _XT_OSC

TEMP EQU 0CH
DAT EQU 0DH


ORG 0000H
GOTO INIT
GOTO MAIN
ORG 0004H
GOTO INT_ROUTINE



INIT	BSF STATUS, RP0
		MOVLW 18H
		MOVWF TRISA
		CLRF TRISB
		MOVLW B'00000101'
		MOVWF OPTION_REG
		BSF INTCON, GIE
		BSF INTCON, T0IE
		BCF STATUS, RP0
		MOVLW 00H
		MOVWF PORTB
		MOVWF TEMP
		MOVWF DAT

		MOVLW 38H ;INITIALIZE LCD
		CALL INSTRUCTION

MAIN	GOTO INITTOM
		

INSTRUCTION:
		MOVWF PORTB
		MOVLW 00H
		MOVWF PORTA
	;	SLEEP
		MOVLW 05H
		MOVWF PORTA
	;	SLEEP
		MOVLW 00H
		MOVWF PORTA
		
		RETURN

SDATA:
		MOVWF PORTB
		MOVLW 02H
		MOVWF PORTA
	;	SLEEP
		MOVLW 07H
		MOVWF PORTA
	;	SLEEP
		MOVLW 02H
		MOVWF PORTA

		RETURN
		
		

CHECK	MOVLW 00H
		XORWF TEMP, W
		BTFSS STATUS, Z
		GOTO CHECK2
		GOTO INITTOM
CHECK2
		MOVLW 01H
		XORWF TEMP, W
		BTFSS STATUS, Z
		GOTO CHECK3
		;GOTO RONAH
CHECK3	
		MOVLW 02H
		XORWF TEMP, W
		BTFSS STATUS, Z
		GOTO CHECK
		;GOTO MAAN

INITTOM	MOVLW 80H
		CALL INSTRUCTION
		MOVLW 0FH
		CALL INSTRUCTION
		MOVLW 06H
		CALL INSTRUCTION
	
		MOVF DAT, W
		CALL DISPLAYTOM
		CALL SDATA
		
		INCF DAT, F
		MOVF DAT, W
		CALL DISPLAYTOM
		CALL SDATA
		
		INCF DAT, F
		MOVF DAT, W
		CALL DISPLAYTOM
		CALL SDATA

		MOVLW 00H
		MOVWF DAT
;MARIA JOHANNA
		MOVLW 94H
		CALL INSTRUCTION
		MOVLW 0FH
		CALL INSTRUCTION
		MOVLW 06H
		CALL INSTRUCTION

		MOVF DAT, W
		CALL DISPLAYMA
		CALL SDATA
		INCF DAT, F
		MOVF DAT, F
		CALL DISPLAYMA
		CALL SDATA
		INCF DAT, F
		MOVF DAT, W
		CALL DISPLAYMA
		CALL SDATA
			INCF DAT, F
		MOVF DAT, W
		CALL DISPLAYMA
		CALL SDATA

		INCF TEMP, F
		GOTO AGAIN


AGAIN	NOP
		GOTO AGAIN

DISPLAYTOM	
		ADDWF PCL, F
		RETLW 'T'
		RETLW 'O'
		RETLW 'M'
		RETURN

DISPLAYMA	
		ADDWF PCL, F
		RETLW 'M'
		RETLW 'A'
		RETLW 'A'
		RETLW 'N'
		RETURN

DISPLAYRO	
		ADDWF PCL, F
		RETLW 'R'
		RETLW 'O'
		RETLW 'N'
		RETLW 'A'
		RETLW 'H'
		RETURN

		


		


INT_ROUTINE
		BCF INTCON, GIE
		BTFSS INTCON, T0IF
		RETFIE
		BCF INTCON, T0IF
		GOTO CHECK
		RETFIE

END